alg<-rbind(alg_1,alg_2,alg_3,alg_4,alg_5,alg_8)
if(!is.null(alg)){
datatable(alg, options = list(scrollX=T))
}else{
print("This table is missing in the folder g_output/PE and GDM algorithm.")
}
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=year, y=prevalence_100_pregnancies, group=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
if("Step_04_GDM_1_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_1<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_1_year_age.csv"))
}else{alg_1<-NULL}
if("Step_04_GDM_2_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_2<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_2_year_age.csv"))
}else{alg_2<-NULL}
if("Step_04_GDM_3_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_3<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_3_year_age.csv"))
}else{alg_3<-NULL}
if("Step_04_GDM_4_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_4<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_4_year_age.csv"))
}else{alg_4<-NULL}
if("Step_04_GDM_5_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_5<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_5_year_age.csv"))
}else{alg_5<-NULL}
if("Step_04_GDM_8_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_8<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_8_year_age.csv"))
}else{alg_8<-NULL}
alg<-rbind(alg_1,alg_2,alg_3,alg_4,alg_5,alg_8)
if(!is.null(alg)){
datatable(alg, options = list(scrollX=T))
}else{
print("This table is missing in the folder g_output/PE and GDM algorithm.")
}
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, group=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_grid(year_group~.)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
View(alg)
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, group=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_grid(year_group~.)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_grid(year_group~.)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_grid(as.factor(year_group)~.)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_grid(as.factor(year_group) ~ .)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(as.factor(year_group))+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
View(alg)
if("Step_04_GDM_1_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_1<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_1_year_age.csv"))
}else{alg_1<-NULL}
if("Step_04_GDM_2_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_2<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_2_year_age.csv"))
}else{alg_2<-NULL}
if("Step_04_GDM_3_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_3<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_3_year_age.csv"))
}else{alg_3<-NULL}
if("Step_04_GDM_4_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_4<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_4_year_age.csv"))
}else{alg_4<-NULL}
if("Step_04_GDM_5_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_5<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_5_year_age.csv"))
}else{alg_5<-NULL}
if("Step_04_GDM_8_year_age.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_8<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_GDM_8_year_age.csv"))
}else{alg_8<-NULL}
alg<-rbind(alg_1,alg_2,alg_3,alg_4,alg_5,alg_8)
if(!is.null(alg)){
datatable(alg, options = list(scrollX=T))
}else{
print("This table is missing in the folder g_output/PE and GDM algorithm.")
}
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(as.factor(year_group))+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
)
View(alg)
names(alg)
ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))
ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)
ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background="grey")
ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="grey"))
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="grey")))
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="grey", linewidth = 1)))
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="lightgrey", linewidth = 1)))
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_line(aes(x=maternal_age,y=lower_95_CI, color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="lightgrey", linewidth = 1)))
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_line(aes(x=maternal_age,y=lower_95_CI, color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="lightgreen", linewidth = 1)))
ggplotly(ggplot(alg, aes(x=maternal_age, y=prevalence_100_pregnancies, color=algorithm))+
geom_line(aes(color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(year_group)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Year") +
ylab("Prevalence_per_100_pregnancies")+
theme_classic()
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
alg[,prevalence_100_pregnancies:=as.numeric(prevalence_100_pregnancies)]
ggplotly(ggplot(alg, aes(x=maternal_age,y=prevalence_100_pregnancies, group=algorithm)) +
geom_line(aes(color=algorithm))+
geom_line(aes(x=maternal_age,y=lower_95_CI, color=algorithm))+
geom_point(aes(color=algorithm))+
facet_wrap(~year_group, scales="fixed", ncol=1)+
theme(axis.text.x = element_text(size = 8,angle = 45),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
ggtitle("GDM prevalence rates")+
xlab("Maternal age") +
ylab("Prevalence_per_100_pregnancies")+
theme(panel.background=element_rect(color="lightgreen", linewidth = 1)))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
if("Step_04_PE_1.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_1<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_1.csv"))
}else{alg_1<-NULL}
if("Step_04_PE_2.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_2<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_2.csv"))
}else{alg_2<-NULL}
if("Step_04_PE_3.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_3<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_3.csv"))
}else{alg_3<-NULL}
if("Step_04_PE_4.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_4<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_4.csv"))
}else{alg_4<-NULL}
if("Step_04_PE_5.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_5<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_5.csv"))
}else{alg_5<-NULL}
alg<-rbind(alg_1,alg_2,alg_3,alg_4,alg_5)
if(!is.null(alg)){
datatable(alg, options = list(scrollX=T))
}else{
print("This table is missing in the folder g_output/PE and GDM algorithm.")
}
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
if("Step_04_PE_1.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_1<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_1.csv"))
}else{alg_1<-NULL}
if("Step_04_PE_2.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_2<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_2.csv"))
}else{alg_2<-NULL}
if("Step_04_PE_3.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_3<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_3.csv"))
}else{alg_3<-NULL}
if("Step_04_PE_4.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_4<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_4.csv"))
}else{alg_4<-NULL}
if("Step_04_PE_5.csv" %in% list.files(paste0(projectFolder,"/g_output/PE and GDM algorithm/"))){
alg_5<-fread(paste0(projectFolder,"/g_output/PE and GDM algorithm/Step_04_PE_5.csv"))
}else{alg_5<-NULL}
alg<-rbind(alg_1,alg_2,alg_3,alg_4,alg_5)
if(!is.null(alg)){
datatable(alg, options = list(scrollX=T))
}else{
print("This table is missing in the folder g_output/PE and GDM algorithm.")
}
if(!is.null(alg)){
ggplotly(ggplot(alg) +
geom_col(aes(x = factor(algorithm,levels =c('PE_1','PE_2','PE_3','PE_4','PE_5')),
y = no_diagnosed_pregnancies), fill = "green", width = 0.3) +
geom_col(aes(x = algorithm, y = no_pregnancies), alpha = 0.3, fill = "#76b82a", width = 0.6) +
ggtitle("GDM prevalence rates")+
xlab("Algorithm") +
ylab("Counts")+
theme(axis.text.x = element_text(angle = 90, hjust = 1),
axis.title.x = element_text(colour = "#76b82a"),
axis.title.y = element_text(colour = "#76b82a"),
plot.title = element_text(colour = "#76b82a"))+
theme_classic()
)
}
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
####Clean pregnancies####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source(paste0(projectFolder,"/p_steps/clean_folders.R"))
source("99_path.R")
setwd(projectFolder)
#Run pregnancy algorithm and save results in g_intermediate/pregnancy_algorithm
source(paste0(pre_dir,"Step_00_create_clean_pregnancy_D3.R"))
render(paste0(pre_dir,"Report_0_pregnancy_algorithm_flowchart.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_0_Pregnancy_algorithm_flowchart.html"))
source(paste0(pre_dir,"save_environment.R"))
####Create pregnancy study population####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create study population(persons/observation_periods/pregnancies)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_01_create_study_population.R"))
render(paste0(pre_dir,"Report_1_pregnancy_study_population.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_1_Pregnancy_study_population.html"))
source(paste0(pre_dir,"save_environment.R"))
####Run diagnostic filtering script####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create diagnoses D3(GDM/PE/Migraine)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_02_diagnoses_clean_up.R"))
source(paste0(pre_dir,"Step_02_diagnoses_clean_up_combine.R"))
render(paste0(pre_dir,"Report_2_diagnoses_clean_up.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_2_Diagnoses_clean_up.html"))
source(paste0(pre_dir,"save_environment.R"))
####Run medicines filtering script####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create medicines D3(GDM/PE/Migraine)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_03_medicines_clean_up.R"))
source(paste0(pre_dir,"Step_03_medicines_clean_up_combine.R"))
render(paste0(pre_dir,"Report_3_medicines_clean_up.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_3_Medicines_clean_up.html"))
source(paste0(pre_dir,"save_environment.R"))
####Create algorithms for GDM/PE/Migraine####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_04_algorithms.R"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
#render(paste0(pre_dir,"Report_4_migraine_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_migraine_algorithms.html"))
source(paste0(pre_dir,"save_environment.R"))
####Clean pregnancies####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source(paste0(projectFolder,"/p_steps/clean_folders.R"))
source("99_path.R")
setwd(projectFolder)
#Run pregnancy algorithm and save results in g_intermediate/pregnancy_algorithm
source(paste0(pre_dir,"Step_00_create_clean_pregnancy_D3.R"))
render(paste0(pre_dir,"Report_0_pregnancy_algorithm_flowchart.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_0_Pregnancy_algorithm_flowchart.html"))
source(paste0(pre_dir,"save_environment.R"))
####Create pregnancy study population####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create study population(persons/observation_periods/pregnancies)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_01_create_study_population.R"))
render(paste0(pre_dir,"Report_1_pregnancy_study_population.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_1_Pregnancy_study_population.html"))
source(paste0(pre_dir,"save_environment.R"))
####Run diagnostic filtering script####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create diagnoses D3(GDM/PE/Migraine)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_02_diagnoses_clean_up.R"))
source(paste0(pre_dir,"Step_02_diagnoses_clean_up_combine.R"))
render(paste0(pre_dir,"Report_2_diagnoses_clean_up.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_2_Diagnoses_clean_up.html"))
source(paste0(pre_dir,"save_environment.R"))
####Run medicines filtering script####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
#Create medicines D3(GDM/PE/Migraine)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_03_medicines_clean_up.R"))
source(paste0(pre_dir,"Step_03_medicines_clean_up_combine.R"))
render(paste0(pre_dir,"Report_3_medicines_clean_up.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_3_Medicines_clean_up.html"))
source(paste0(pre_dir,"save_environment.R"))
####Create algorithms for GDM/PE/Migraine####
rm(list=ls())
if(!require(rstudioapi)){install.packages("rstudioapi")}
library(rstudioapi)
projectFolder<-dirname(rstudioapi::getSourceEditorContext()$path)
setwd(projectFolder)
source("packages.R")
source("99_path.R")
setwd(projectFolder)
load(paste0(g_intermediate,"environment.RData"))
source(paste0(pre_dir,"Step_04_algorithms.R"))
render(paste0(pre_dir,"Report_4_gdm_pe_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_gdm_pe_algorithms.html"))
#render(paste0(pre_dir,"Report_4_migraine_algorithms.Rmd"), output_dir = output_dir, output_file = paste0(format(Sys.Date(), "%Y"),format(Sys.Date(), "%m"),format(Sys.Date(), "%d"),"_",data_access_provider_name,"_", "Report_4_migraine_algorithms.html"))
source(paste0(pre_dir,"save_environment.R"))
